# 設計ドキュメント、RFC、アーキテクチャードキュメント

## 概要

多くのテック企業やスタートアップでは、計画立案プロセスの一環として、**設計ドキュメント（RFC：Request for Comments）**が利用されています。これらのドキュメントは、エンジニアが実作業を開始する前に、プロジェクトの背景、推奨されるアプローチ、トレードオフを共有し、フィードバックを求めるために作成されます。その主な目的は、早期に重要なフィードバックを得ることで、結果としてプロジェクト完了までの時間を短縮することにあります,。

## 詳細

*   **RFCのワークフローとアプローチ**:
    *   **プロトタイプ作成→RFC→開発**: 新しいフレームワークを使用するなど不明点が多い場合に有効。プロトタイプで不明点を解消し、RFCで部分的に完成した計画を共有してフィードバックを得てから開発します。
    *   **RFC配布→フィードバック待ち→開発**: 依存関係が多いプロジェクト向け。全ステークホルダーのフィードバックを集めてから進めることで、手戻りを防ぎます。
    *   **RFC配布→待ちながら開発**: 複雑度が低いプロジェクト向け。フィードバックを待つ間に開発を始め、変更が必要なら対応します。
    *   **開発→RFC配布**: 開発後に決定事項を記録するために作成する場合。フィードバックを活かす機会は失われますが、記録としては価値があります。

*   **RFC作成の4つの利点**:
    1.  **思考の明確化**: 自分の考えを他者に理解できる形で説明する必要があるため、コーディング前に方向性の誤りに気づきやすくなります。
    2.  **迅速なフィードバック**: コーディング前にドキュメントを共有することで、エッジケースの漏れや誤解に対するフィードバックを早期に得られ、手戻りを防げます。
    3.  **アイデアのスケール**: 文書化することで、一人一人と話すことなく、多くのエンジニアに自分の考えやアプローチを伝えられます。
    4.  **書く文化の促進**: ドキュメント共有により良質なフィードバックが得られる文化が育ち、チーム全体に利益をもたらします。

*   **フィードバックの方法**:
    *   ドキュメントへのコメント（非同期）、会議での議論（同期）、またはそのハイブリッド形式（基本は非同期で、複雑な場合に会議）があります。

*   **アーキテクチャードキュメント**:
    *   RFCと同様に決定事項を記録しますが、フィードバックを得る意図はほとんどありません。
    *   一般的な形式には、**ADR**（アーキテクチャー決定記録）、**C4モデル**（コンテキスト、コンテナ、コンポーネント、コードの4層図解）、**Arc42**（テンプレートベース）などがあります。

## ポイント

*   **目的はスピード**: RFCプロセスの真の目標は、ドキュメント作成そのものではなく、早期にフィードバックを得て誤解や手戻りを防ぎ、プロジェクトのリリースまでの時間を**短縮すること**です。
*   **「なぜ」と「何」の明確化**: 設計ドキュメントは、コードを書く前に「なぜそうするのか」「何をするのか」を明確にし、自分自身の思考を整理するツールとして機能します。
*   **用途の違い**: RFCは「フィードバックを得て設計を改善するため」のものであり、アーキテクチャードキュメント（ADRなど）は主に「決定事項を記録するため」のものという違いがあります。
