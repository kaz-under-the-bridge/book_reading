# 複数の段階にわたる徹底的検証

## 概要

多くの貴重な顧客を抱える成熟したプロダクトや、バグが重大な金銭的損失や顧客離脱につながる可能性がある場合に採用されるアプローチです。本番環境にリリースする前に、現実世界を正確にシミュレーションすることを目的とした、何層もの厳格な検証を行います。

## 詳細

このアプローチでは、以下のような複数の検証層（レイヤー）を経てリリースが行われます。

*   **開発・CI段階**: ローカル環境での検証、CI（継続的インテグレーション）によるユニットテストやLintチェック、テスト環境デプロイ前の高コストな自動テスト（インテグレーションテストやE2Eテスト）。
*   **テスト環境**:
    *   **環境1**: スモークテストやQAエンジニアによる手動・探索的テスト。
    *   **環境2**: 社内ユーザーや有料ベータテスターなどが実際にプロダクトを使用する環境。リグレッション（退行）の兆候があればロールアウトを停止します-。
    *   **本番前環境（Pre-production）**: 最終的な確認を行う環境。
*   **本番リリース段階**: 段階的ロールアウト（一部ユーザーから徐々に全ユーザーへ）、そして完全ロールアウト。
*   **リリース後**: モニタリング、アラート、オンコールによる監視と対応。

このプロセスは、ヘルスケア、航空、自動車などの規制産業、通信事業者、銀行、あるいは自動テストが少ないレガシーコードを持つ伝統的企業などでよく見られます-。

## ポイント

*   **信頼性の重視**: 開発スピードよりも、バグを本番環境に出さない信頼性と品質を最優先するアプローチです。
*   **多層防御**: 自動テストだけでなく、QAによる手動テストや、実際のユーザーに近い環境での検証を幾重にも組み合わせることで、重大な事故を防ぎます,。
*   **リスクに応じた選択**: 失敗が許されない、あるいは失敗のコストが極めて高い環境に適した現実解です。
