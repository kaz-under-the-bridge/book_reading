# ワンウェイ・ドアの決定とツーウェイ・ドアの決定の比較

## 概要

アーキテクチャー上の決定を、簡単に元に戻せる「ツーウェイ・ドア（双方向ドア）」の決定と、後戻りが困難で多大なコストがかかる「ワンウェイ・ドア（一方通行ドア）」の決定に分類する考え方です。これはAmazonの企業文化（Day One）に由来するメンタルモデルです。

## 詳細

*   **ツーウェイ・ドアの決定**:
    *   **特徴**: 影響範囲が限定的で、比較的簡単に元に戻すことができる決定です。
    *   **具体例**: 機能のA/Bテスト、変数やクラスの命名、CSSプリプロセッサやテストフレームワークの選択、リファクタリング（クラスの分割・統合）など,。
    *   **アプローチ**: 議論を尽くすよりも、迅速に決定して先に進む方が合理的です。
*   **ワンウェイ・ドアの決定**:
    *   **特徴**: 元に戻すのに、導入時と同等かそれ以上の多大な労力とコストがかかる決定です。ソフトウェアにおいて「完全に不可逆」な決定は稀ですが、事実上後戻りが困難なものを指します,。
    *   **具体例**: モノリスかマイクロサービスかの選択、プログラミング言語やデータベース（SQL vs NoSQL）の選定、クラウドかオンプレミスかの選択など,。
    *   **アプローチ**: 慎重な検討が必要です。プロトタイプや概念実証（PoC）を作成し、決定がうまくいくか事前に確認（宿題）を済ませておくべきです。
*   **注意点**: 公開APIのプロトコル選択のように、最初はツーウェイに見えても、一度顧客が使い始めると変更が困難になり、ワンウェイ・ドア化する決定もあります。

## ポイント

*   **リソースの配分**: すべての決定に同じ時間をかけるべきではありません。ツーウェイ・ドアの決定で議論に時間を浪費せず、ワンウェイ・ドアの決定には十分な調査と検証の時間を割くべきです。
*   **見極める力**: 直面している決定が、簡単に覆せるものなのか、多大なコストを伴うものなのかを見極めることが重要です。迷った場合は調査を行い、可能であれば初期段階の作業を元に戻しやすいように設計（プロトタイプ作成など）してリスクを下げることが賢明です。
